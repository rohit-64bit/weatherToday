<!DOCTYPE html>
<html lang="en">

<head>
    <title>Weather Today</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet" />

</head>

<body>
    <!-- Main container -->
    <div class="flex">
        <div class="h-screen w-3/5">
            <div class="mx-24 my-16 h-96 flex">
                <img src="/assets/logo.png" class="h-7 w-7 mx-2" alt="logo" />
                <p class="text-white font-medium text-x mx-2">Weather Today</p>
            </div>
            <%if( weather !==null){ %>
                <div class="flex mx-24 my-auto">
                    <div class="font-medium text-white text-8xl">
                        <%= temp %>°C
                    </div>
                    <div class="mx-4 my-auto">
                        <p class="font-medium text-white text-5xl text-left">
                            <%= place %>
                        </p>
                        <!-- <p class="font-thin text-white text-left text-xs"><%= timezone %></p> -->
                    </div>
                    <div class="mx-4 my-auto">
                        <img src="<%= icon %>" alt="Weather-Icon" class="h-12 w-12 brightness-200 ">

                        <p id="weather" class="text-white text-center text-xl font-medium ">
                            <%= main %>
                        </p>
                    </div>
                </div>
                <% } %>
        </div>
        <div class="w-2/5 backdrop-blur-md h-screen shadow-2xl">
            <form action="/" method="post" class="flex">
                <input name="city" type="text"
                    class="bg-transparent text-white font-medium h-20 w-full px-10 pt-9 text-2xl focus:border-b-2"
                    placeholder="Enter a City" required>
                <button type="submit" class="bg-orange-500 h-20 w-24" value="Get Weather"><svg
                        xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white"
                        class="bi bi-search m-auto" viewBox="0 0 16 16">
                        <path
                            d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
                    </svg>
                </button>
            </form>
            <%if( weather !==null){ %>
                <div class="my-16">
                    <div class="mx-16 my-2">
                        <p class="text-white font-medium text-xl">
                            Temperature :
                        </p>
                        <p class="text-white font-base text-lg">
                            <%= temp %>°C / <%= fahrenheit %>°F
                        </p>
                    </div>
                    <hr class="mx-16">
                    <div class="mx-16 my-2">
                        <p class="text-white font-medium text-xl">
                            Main :
                        </p>
                        <p class="text-white font-base text-lg">
                            <%= main %>
                        </p>
                    </div>
                    <hr class="mx-16">
                    <div class="mx-16 my-2">
                        <p class="text-white font-medium text-xl">
                            Overall Description :

                        </p>
                        <p class="text-white font-base text-lg">
                            <%= description %>
                        </p>
                    </div>
                    <hr class="mx-16">
                    <div class="mx-16 my-2">
                        <p class="text-white font-medium text-xl">
                            Cloud coverage :
                        </p>
                        <p class="text-white font-base text-lg">
                            <%= clouds %>
                        </p>
                    </div>
                    <hr class="mx-16">
                    <div class="mx-16 my-2">
                        <p class="text-white font-medium text-xl">
                            Visibility :
                        </p>
                        <p class="text-white font-base text-lg">
                            <%= visibility %> meters
                        </p>
                    </div>
                    <hr class="mx-16">
                    <div class="mx-16 my-2">
                        <p class="text-white font-medium text-xl">
                            Humidity :
                        </p>
                        <p class="text-white font-base text-lg">
                            <%= humidity %> g.m-3
                        </p>
                    </div>
                    <hr class="mx-16">
                    <div class="mx-16 my-2">
                        <p class="text-white font-medium text-xl">
                            Pressure :
                        </p>
                        <p class="text-white font-base text-lg">
                            <%= pressure %> N·m−2
                        </p>
                    </div>
                </div>
                <% } %>
                    <% if(error !==null){ %>
                        <p class="text-white font-base text-xs mx-16 my-2">
                            <%= error %>
                        </p>
                        <% } %>
                            <div class="mx-16 text-white text-xs font-light ">
                                This is only conpatible with desktop for now.
                            </div>
        </div>
    </div>

    <script>
        // changing the background image with the type of weather
        let weatherDescription = document.getElementById("weather");
        let weather = weatherDescription.innerText;
        console.log(weather);

        switch (weather) {
            case "Haze":
                document.body.style.backgroundImage = "url('https://images.unsplash.com/photo-1619592377715-3f05fca9d9cd?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80')";
                break;
            case "Foogy":
                document.body.style.backgroundImage = "url('https://images.unsplash.com/photo-1533757704860-384affeed946?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80')"
                break;
            case "Clouds":
                document.body.style.backgroundImage = "url('https://images.unsplash.com/photo-1526925210199-6db37fd596af?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80')"
                break;
            case "Clear":
                document.body.style.backgroundImage = "url('https://images.unsplash.com/photo-1468276311594-df7cb65d8df6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80')"
                break;
            case "Foogy":
                document.body.style.backgroundImage = "url('https://images.unsplash.com/photo-1533757704860-384affeed946?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80')"
                break;
            case "Snow":
                document.body.style.backgroundImage = "url('/assets/snowbg.jpg')"
                break;
            case "Rain":
                document.body.style.backgroundImage = "url('/assets/rain.jpg')"
                break;
            case "Thunderstorm":
                document.body.style.backgroundImage = "url('/assets/thunder.jpg')"
                break;
            case "Drizzle":
                document.body.style.backgroundImage = "url('/assets/drizzle.jpg')"
                break;
            case "Mist":
                document.body.style.backgroundImage = "url('/assets/mist.jpg')"
                break;
            case "Thunderstorm":
                document.body.style.backgroundImage = "url('/assets/thunder.jpg')"
                break;
            default:
                break;
        }
    </script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

</body>

</html>